<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Phaser Cheatsheet &#8211; invrse - the game development blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Educational blog on game design and development, including topics like programming, tools, workflow and techniques.">
    <meta name="author" content="Otto Robba">
    <meta name="keywords" content="game framework, resource">
    <link rel="canonical" href="http://invrse.co/phaser-cheatsheet">
    <!-- Custom CSS -->
    <!--        <link rel="stylesheet" href=" /css/style.min.css " type="text/css">-->
    <link rel="stylesheet" href=" /css/pixyll.css " type="text/css">

    <!-- Fonts -->
    <link href='//fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Lato:900,300' rel='stylesheet' type='text/css'>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

</head>

<body>
  <div class="site-wrap">
    <header class="site-header px2 px-responsive">
  <div class="mt2 wrap">
    <div class="measure">
      <a href="http://invrse.co" class="left logo"><img src="/assets/logo.png" alt="invrse" class="no-border-radius"/></a>
      <nav class="site-nav right">
        <a href="/about/"><i class='fa fa-user'></i><span class="nav"> about</span></a>
<a href="/games/"><i class='fa fa-gamepad'></i><span class="nav"> games</span></a>
<a href="/hire-me/"><i class='fa fa-heart'></i><span class="nav"> hire me!</span></a>

      </nav>
      <div class="clearfix"></div>
    </div>
  </div>
</header>

    <div class="post p2 p-responsive wrap" role="main">
      <div class="measure">
        <div class="post-header mb2">
    <h1 class="py2 center">Phaser Cheatsheet</h1>
    <p class="post-meta center">Oct 17, 2014</p>
</div>

<article class="post-content">
    <p><a href="http://phaser.io" target="_blank">Phaser</a> - the HTML5 game framework that <a href="http://invrse.co/phaser-review">I’ve reviewed</a> - is pretty easy to use. It gets even easier with a cheatsheet though.</p>

<p>I’m linking each cheat directly to the documentation so you can see the related methods and the source if you need to.</p>

<h3 id="starting-a-new-game">Starting a new game</h3>

<p><small>Reference: <a href="http://docs.phaser.io/Phaser.Game.html#Game" target="_blank">http://docs.phaser.io/Phaser.Game.html#Game</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">game</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Phaser</span><span class="p">.</span><span class="nx">Game</span><span class="p">(</span><span class="nx">width</span><span class="p">,</span> <span class="nx">height</span><span class="p">,</span> <span class="nx">renderer</span><span class="p">,</span> <span class="s2">&quot;parent&quot;</span><span class="p">);</span>
<span class="c1">//All parameters are optional but you usually want to set width and height</span>
<span class="c1">//Remember that the game object inherits many properties and methods!</span></code></pre></div>

<h3 id="creating-a-game-state-object">Creating a game state object</h3>

<p><small>Reference: <a href="http://docs.phaser.io/Phaser.State.html" target="_blank">http://docs.phaser.io/Phaser.State.html</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">playState</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//Called as soon as we enter this state</span>
    <span class="p">},</span>

    <span class="nx">preload</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//Assets to be loaded before create() is called</span>
    <span class="p">},</span>

    <span class="nx">create</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//Adding sprites, sounds, etc...</span>
    <span class="p">},</span>

    <span class="nx">update</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//Game logic, collision, movement, etc...</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></div>

<h3 id="managing-game-states">Managing game states</h3>
<p><small>Reference: <a href="http://docs.phaser.io/Phaser.StateManager.html" target="_blank">http://docs.phaser.io/Phaser.StateManager.html</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">game</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;play&#39;</span><span class="p">,</span> <span class="nx">playState</span><span class="p">);</span>
<span class="nx">game</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;play&#39;</span><span class="p">);</span>

<span class="c1">//It also has functions useful for debugging and whatnot</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Currently at the &quot;</span><span class="o">+</span> <span class="nx">game</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">getCurrentState</span><span class="p">()</span> <span class="o">+</span><span class="s2">&quot; game state!&quot;</span><span class="p">);</span></code></pre></div>

<h3 id="adjusting-the-game-to-any-screen-size">Adjusting the game to any screen size</h3>

<p><small>Reference: <a href="http://docs.phaser.io/Phaser.ScaleManager.html" target="_blank">http://docs.phaser.io/Phaser.ScaleManager.html</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">this</span><span class="p">.</span><span class="nx">scale</span><span class="p">.</span><span class="nx">scaleMode</span> <span class="o">=</span> <span class="nx">Phaser</span><span class="p">.</span><span class="nx">ScaleManager</span><span class="p">.</span><span class="nx">SHOW_ALL</span><span class="p">;</span>
<span class="k">this</span><span class="p">.</span><span class="nx">scale</span><span class="p">.</span><span class="nx">pageAlignHorizontally</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="k">this</span><span class="p">.</span><span class="nx">scale</span><span class="p">.</span><span class="nx">pageAlignVertically</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="k">this</span><span class="p">.</span><span class="nx">scale</span><span class="p">.</span><span class="nx">setScreenSize</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span></code></pre></div>

<h3 id="working-with-globals">Working with globals</h3>

<p><small>Reference: <a href="http://www.html5gamedevs.com/topic/4247-where-to-put-global-var-in-the-basic-template/" target="_blank">http://www.html5gamedevs.com/topic/4247-where-to-put-global-var-in-the-basic-template/</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">//Declare it outside of any functions</span>
<span class="c1">//This way they persist through state changes</span>
<span class="nx">game</span><span class="p">.</span><span class="nx">global</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">mute</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="nx">score</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nx">bestScore</span><span class="o">:</span> <span class="mi">100</span>
<span class="p">};</span>

<span class="c1">//Then we can change them anywhere</span>
<span class="nx">game</span><span class="p">.</span><span class="nx">global</span><span class="p">.</span><span class="nx">mute</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="nx">game</span><span class="p">.</span><span class="nx">global</span><span class="p">.</span><span class="nx">bestScore</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">global</span><span class="p">.</span><span class="nx">score</span><span class="p">;</span></code></pre></div>

<h3 id="using-local-storage">Using local storage</h3>

<p><small>Reference: <a href="http://www.w3schools.com/html/html5_webstorage.asp" target="_blank">http://www.w3schools.com/html/html5_webstorage.asp</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">//It can only store strings</span>
<span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s1">&#39;itemKey&#39;</span><span class="p">,</span> <span class="s1">&#39;myContent&#39;</span><span class="p">);</span>

<span class="c1">//You can store entire objects by doing this:</span>
<span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s1">&#39;myObject&#39;</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">myObject</span><span class="p">));</span>

<span class="c1">//Then you just get the string you stored!</span>
<span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s1">&#39;itemKey&#39;</span><span class="p">);</span></code></pre></div>

<h3 id="loading-an-imagemusicasset">Loading an image/music/asset</h3>

<p><small>Reference: <a href="http://docs.phaser.io/Phaser.Loader.html" target="_blank">http://docs.phaser.io/Phaser.Loader.html</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">preload</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">game</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">image</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="s1">&#39;path/to/file.png&#39;</span><span class="p">);</span>
    <span class="nx">game</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">audio</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;path/to/file.mp3&#39;</span><span class="p">,</span> <span class="s1">&#39;path/to/file.ogg&#39;</span><span class="p">]);</span>
    <span class="nx">game</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">spritesheet</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="s1">&#39;path/to/file&#39;</span><span class="p">,</span> <span class="nx">frameWidth</span><span class="p">,</span> <span class="nx">frameHeight</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>

<h3 id="setting-a-background-color">Setting a background color</h3>

<p><small>Reference: <a href="http://docs.phaser.io/Phaser.Stage.html" target="_blank">http://docs.phaser.io/Phaser.Stage.html</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">//Setting it to a nice, greyish blue</span>
<span class="nx">game</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">backgroundColor</span> <span class="o">=</span> <span class="s1">&#39;#6d94b5&#39;</span><span class="p">;</span></code></pre></div>

<h3 id="generating-random-numbers">Generating random numbers</h3>

<p><small>Reference: <a href="http://docs.phaser.io/Phaser.RandomDataGenerator.html" target="_blank">http://docs.phaser.io/Phaser.RandomDataGenerator.html</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">rnd</span><span class="p">.</span><span class="nx">integerInRange</span><span class="p">(</span><span class="mi">120</span><span class="p">,</span> <span class="mi">480</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">intNum</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">rnd</span><span class="p">.</span><span class="nx">integer</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">fracNum</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">rnd</span><span class="p">.</span><span class="nx">frac</span><span class="p">();</span></code></pre></div>

<h3 id="adding-game-objects">Adding game objects</h3>

<p><small>Reference: <a href="http://docs.phaser.io/Phaser.GameObjectFactory.html" target="_blank">http://docs.phaser.io/Phaser.GameObjectFactory.html</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">create</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//image, sprite, audio and others are all methods of the factory</span>
    <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">image</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="s1">&#39;key&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">player</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="nx">frame</span><span class="p">,</span> <span class="nx">group</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>

<h3 id="repositioning-an-objects-anchor">Repositioning an objects anchor</h3>

<p><small>Reference: <a href="https://github.com/photonstorm/phaser/wiki/Graphics" target="_blank">https://github.com/photonstorm/phaser/wiki/Graphics</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">//Objects have an anchor property that goes from 0 (top left) to 1 (bottom right)</span>
<span class="c1">//It defaults to 0,0 but it can be changed easily</span>
<span class="nx">image</span><span class="p">.</span><span class="nx">anchor</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">;</span>
<span class="nx">image</span><span class="p">.</span><span class="nx">anchor</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="c1">//This sets it in the middle</span>
<span class="nx">image</span><span class="p">.</span><span class="nx">anchor</span><span class="p">.</span><span class="nx">setTo</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">);</span></code></pre></div>

<h3 id="scaling-an-object">Scaling an object</h3>

<p><small>Reference: <a href="https://github.com/photonstorm/phaser/wiki/Graphics" target="_blank">https://github.com/photonstorm/phaser/wiki/Graphics</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">//Objects have a scale property that defaults to 1</span>
<span class="c1">//Negative values essentially mirror it on the affected axis</span>
<span class="nx">image</span><span class="p">.</span><span class="nx">scale</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>

<span class="c1">//This doubles the size of the object</span>
<span class="nx">image</span><span class="p">.</span><span class="nx">scale</span><span class="p">.</span><span class="nx">setTo</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span></code></pre></div>

<h3 id="displaying-an-image">Displaying an image</h3>

<p><small>Reference: <a href="http://docs.phaser.io/Phaser.Image.html" target="_blank">http://docs.phaser.io/Phaser.Image.html</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">create</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">image</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="s1">&#39;key&#39;</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>

<h3 id="working-with-sprites">Working with sprites</h3>

<p><small>Reference: <a href="http://docs.phaser.io/Phaser.Sprite.html" target="_blank">http://docs.phaser.io/Phaser.Sprite.html</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">create</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//Assign it to a variable so we can reference it</span>
    <span class="kd">var</span> <span class="nx">sprite</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="s1">&#39;key&#39;</span><span class="p">);</span>

    <span class="c1">//Now we can access its properties and methods</span>
    <span class="nx">sprite</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span>
    <span class="nx">sprite</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="mi">300</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>

<h3 id="adding--playing-animations">Adding &amp; playing animations</h3>

<p><small>Reference: <a href="http://docs.phaser.io/Phaser.AnimationManager.html" target="_blank">http://docs.phaser.io/Phaser.AnimationManager.html</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">create</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">sprite</span><span class="p">.</span><span class="nx">animations</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nx">frames</span><span class="p">],</span> <span class="nx">frameRate</span><span class="p">,</span> <span class="nx">loop</span><span class="p">);</span>
    <span class="nx">sprite</span><span class="p">.</span><span class="nx">animations</span><span class="p">.</span><span class="nx">play</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="nx">frameRate</span><span class="p">,</span> <span class="nx">loop</span><span class="p">,</span> <span class="nx">killOnComplete</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>

<h3 id="working-with-animations">Working with animations</h3>

<p><small>Reference: <a href="http://docs.phaser.io/Phaser.Animation.html" target="_blank">http://docs.phaser.io/Phaser.Animation.html</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">create</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//Assign it so we can reference it later</span>
    <span class="kd">var</span> <span class="nx">run</span> <span class="o">=</span> <span class="nx">sprite</span><span class="p">.</span><span class="nx">animations</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nx">frames</span><span class="p">],</span> <span class="nx">frameRate</span><span class="p">,</span> <span class="nx">loop</span><span class="p">);</span>

    <span class="c1">//Second parameter is the context, usually &#39;this&#39;</span>
    <span class="nx">run</span><span class="p">.</span><span class="nx">onStart</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">listener</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">listener</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;You just started running!&quot;</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>

<h3 id="displaying-text">Displaying text</h3>

<p><small>Reference: <a href="http://docs.phaser.io/Phaser.Text.html" target="_blank">http://docs.phaser.io/Phaser.Text.html</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">create</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//Assigned for later use</span>
    <span class="kd">var</span> <span class="nx">label</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">style</span><span class="p">},</span> <span class="nx">group</span><span class="p">);</span>
    <span class="nx">label</span><span class="p">.</span><span class="nx">text</span> <span class="o">=</span> <span class="s2">&quot;I&#39;m changing the text inside the label var!&quot;</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>

<h3 id="tweening">Tweening</h3>

<p><small>Reference: <a href="http://docs.phaser.io/Phaser.Tween.html" target="_blank">http://docs.phaser.io/Phaser.Tween.html</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">//Adding an example sprite but you can tween pretty much anything</span>
<span class="kd">var</span> <span class="nx">player</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;player&#39;</span><span class="p">);</span>

<span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">tween</span><span class="p">(</span><span class="nx">player</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">to</span><span class="p">({</span><span class="nx">x</span><span class="o">:</span><span class="mi">500</span><span class="p">},</span> <span class="mi">400</span><span class="p">)</span> <span class="c1">//change player.x to 500 over 400ms</span>
    <span class="p">.</span><span class="nx">start</span><span class="p">();</span></code></pre></div>

<h3 id="playing-music">Playing music</h3>

<p><small>Reference: <a href="http://docs.phaser.io/Phaser.Sound.html" target="_blank">http://docs.phaser.io/Phaser.Sound.html</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">create</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//Assign it so we can reference it </span>
    <span class="kd">var</span> <span class="nx">music</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">audio</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="nx">volume</span><span class="p">,</span> <span class="nx">loop</span><span class="p">);</span>
    <span class="nx">music</span><span class="p">.</span><span class="nx">loop</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nx">music</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
<span class="p">}</span></code></pre></div>

<h3 id="working-with-timers">Working with timers</h3>

<p><small>Reference: <a href="http://docs.phaser.io/Phaser.Timer.html" target="_blank">http://docs.phaser.io/Phaser.Timer.html</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">//Three types of timers: looping, one time event, repeat.</span>
<span class="kd">var</span> <span class="nx">looping</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">time</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">loop</span><span class="p">(</span><span class="nx">delay</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">context</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">once</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">time</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">delay</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">context</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">repeat</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">time</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">repeat</span><span class="p">(</span><span class="nx">delay</span><span class="p">,</span> <span class="nx">repeatCount</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">context</span><span class="p">);</span>
<span class="c1">//You can also pass one last argument with the callback arguments</span>

<span class="nx">game</span><span class="p">.</span><span class="nx">time</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">pause</span><span class="p">(</span><span class="nx">loopingTimer</span><span class="p">);</span>
<span class="nx">game</span><span class="p">.</span><span class="nx">time</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="nx">once</span><span class="p">);</span></code></pre></div>

<h3 id="input">Input</h3>

<p><small>Reference: <a href="http://docs.phaser.io/Phaser.Input.html" target="_blank">http://docs.phaser.io/Phaser.Input.html</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">//Input can come from mouse, touch or keyboard</span>
<span class="c1">//This is the parent object, with properties for setting how input works</span>

<span class="c1">//Allows up to a second between taps for a double click</span>
<span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">doubleTapRate</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">;</span>

<span class="c1">//Increases the hitbox for touch</span>
<span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">circle</span> <span class="o">=</span> <span class="mi">66</span><span class="p">;</span></code></pre></div>

<h3 id="mouse--touch-input">Mouse &amp; touch input</h3>

<p><small>Reference: <a href="http://docs.phaser.io/Phaser.Pointer.html" target="_blank">http://docs.phaser.io/Phaser.Pointer.html</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">if</span> <span class="p">(</span><span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">mousePointer</span><span class="p">.</span><span class="nx">isDown</span><span class="p">())</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Mouse X when you clicked was: &quot;</span><span class="o">+</span><span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">mousePointer</span><span class="p">.</span><span class="nx">x</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>

<h3 id="keyboard-input">Keyboard input</h3>

<p><small>Reference: <a href="http://docs.phaser.io/Phaser.Keyboard.html" target="_blank">http://docs.phaser.io/Phaser.Keyboard.html</a></small></p>

<p><small>Keycodes: <a href="http://docs.phaser.io/Keyboard.js.html#sunlight-1-line-557" target="_blank">http://docs.phaser.io/Keyboard.js.html#sunlight-1-line-557</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">if</span> <span class="p">(</span><span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">keyboard</span><span class="p">.</span><span class="nx">justReleased</span><span class="p">(</span><span class="nx">Phaser</span><span class="p">.</span><span class="nx">Keyboard</span><span class="p">.</span><span class="nx">SPACEBAR</span><span class="p">,</span> <span class="mi">10000</span><span class="p">))</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Spacebar has been pressed in the last 10 seconds.&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">//Assigning Up, Down, Left and Right to a variable</span>
<span class="kd">var</span> <span class="nx">arrow</span> <span class="o">=</span>  <span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">keyboard</span><span class="p">.</span><span class="nx">createCursorKeys</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">arrow</span><span class="p">.</span><span class="nx">up</span><span class="p">.</span><span class="nx">isDown</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;You are pressing the up arrow!&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">//This will stop the arrow keys from scrolling the page</span>
<span class="nx">game</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">keyboard</span><span class="p">.</span><span class="nx">addKeyCapture</span><span class="p">(</span><span class="nx">arrow</span><span class="p">);</span></code></pre></div>

<h3 id="working-with-groups">Working with groups</h3>

<p><small>Reference: <a href="http://docs.phaser.io/Phaser.Group.html" target="_blank">http://docs.phaser.io/Phaser.Group.html</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">//Remember to assign it so we can reference it</span>
<span class="kd">var</span> <span class="nx">enemies</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">group</span><span class="p">();</span>

<span class="c1">//We can add an already created object</span>
<span class="nx">enemies</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">button</span><span class="p">);</span>

<span class="c1">//Or we can create a new object in the group</span>
<span class="nx">enemies</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="s1">&#39;enemy_sprite&#39;</span><span class="p">);</span>

<span class="c1">//You can use setAll to modify properties across all children</span>
<span class="nx">enemies</span><span class="p">.</span><span class="nx">setAll</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mi">500</span><span class="p">);</span></code></pre></div>

<h3 id="adding-physics-to-sprites">Adding physics to Sprites</h3>
<p><small>Reference: <a href="http://docs.phaser.io/Phaser.Physics.Arcade.html" target="_blank">http://docs.phaser.io/Phaser.Physics.Arcade.html</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">create</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//First we start the system</span>
    <span class="nx">game</span><span class="p">.</span><span class="nx">physics</span><span class="p">.</span><span class="nx">startSystem</span><span class="p">(</span><span class="nx">Phaser</span><span class="p">.</span><span class="nx">Physics</span><span class="p">.</span><span class="nx">ARCADE</span><span class="p">);</span>

    <span class="c1">//We then create our sprite &amp; enable physics on it</span>
    <span class="nx">sprite</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="s1">&#39;key&#39;</span><span class="p">);</span>
    <span class="nx">game</span><span class="p">.</span><span class="nx">physics</span><span class="p">.</span><span class="nx">enable</span><span class="p">(</span><span class="nx">sprite</span><span class="p">,</span> <span class="nx">Phaser</span><span class="p">.</span><span class="nx">Physics</span><span class="p">.</span><span class="nx">ARCADE</span><span class="p">);</span>

    <span class="c1">//Now our sprite has an object body as a property</span>
    <span class="nx">sprite</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">velocity</span><span class="p">.</span><span class="nx">setTo</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">);</span>
    <span class="nx">sprite</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">bounce</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="mf">0.8</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>

<h3 id="handling-collision">Handling Collision</h3>

<p><small>Reference: <a href="http://docs.phaser.io/Phaser.Physics.Arcade#collide.html" target="_blank">http://docs.phaser.io/Phaser.Physics.Arcade#collide.html</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">update</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//You can collide a group with itself</span>
    <span class="nx">game</span><span class="p">.</span><span class="nx">physics</span><span class="p">.</span><span class="nx">arcade</span><span class="p">.</span><span class="nx">collide</span><span class="p">(</span><span class="nx">sprites</span><span class="p">);</span>

    <span class="c1">//You can call a function when a collision happens</span>
    <span class="nx">game</span><span class="p">.</span><span class="nx">physics</span><span class="p">.</span><span class="nx">arcade</span><span class="p">.</span><span class="nx">collide</span><span class="p">(</span><span class="nx">sprites</span><span class="p">,</span> <span class="nx">monsters</span><span class="p">,</span> <span class="nx">callback</span><span class="p">);</span>

    <span class="c1">//You can perform additional checks with a processCallback</span>
    <span class="c1">//If it is false, the collision will not happens</span>
    <span class="nx">game</span><span class="p">.</span><span class="nx">physics</span><span class="p">.</span><span class="nx">arcade</span><span class="p">.</span><span class="nx">collide</span><span class="p">(</span><span class="nx">sprites</span><span class="p">,</span> <span class="nx">monsters</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">processCallback</span><span class="p">);</span>

    <span class="c1">//You can perform the following collisions:</span>
    <span class="c1">//Sprite vs Sprite or</span>
    <span class="c1">//Sprite vs Group or</span>
    <span class="c1">//Group  vs Group or</span>
    <span class="c1">//Sprite vs Tilemap Layer or</span>
    <span class="c1">//Group  vs Tilemap Layer</span>
<span class="p">}</span></code></pre></div>

<h3 id="camera">Camera</h3>

<p><small>Reference: <a href="http://docs.phaser.io/Phaser.Camera.html" target="_blank">http://docs.phaser.io/Phaser.Camera.html</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">//Lets follow a sprite named &#39;missile&#39;</span>
<span class="nx">game</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">follow</span><span class="p">(</span><span class="nx">missile</span><span class="p">);</span>

<span class="c1">//Once the missile explodes, maybe we want to reset the camera</span>
<span class="nx">game</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">reset</span><span class="p">();</span>

<span class="c1">//Something cool is happening, let&#39;s pan the camera there</span>
<span class="nx">game</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="mi">500</span><span class="p">;</span></code></pre></div>

<h3 id="particles">Particles</h3>

<p><small>Reference: <a href="http://docs.phaser.io/Phaser.Particles.Arcade.Emitter.html" target="_blank">http://docs.phaser.io/Phaser.Particles.Arcade.Emitter.html</a></small></p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">emitter</span> <span class="o">=</span> <span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">emitter</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">maxParticles</span><span class="p">);</span>
<span class="nx">emitter</span><span class="p">.</span><span class="nx">makeParticles</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">);</span>
<span class="nx">emitter</span><span class="p">.</span><span class="nx">setAlpha</span><span class="p">(</span><span class="nx">min</span><span class="p">,</span> <span class="nx">max</span><span class="p">,</span> <span class="nx">rate</span><span class="p">,</span> <span class="nx">easing</span><span class="p">,</span> <span class="nx">yoyo</span><span class="p">);</span>

<span class="c1">//To use gravity on the emitter, start the physics system</span>
<span class="nx">game</span><span class="p">.</span><span class="nx">physics</span><span class="p">.</span><span class="nx">startSystem</span><span class="p">(</span><span class="nx">Phaser</span><span class="p">.</span><span class="nx">Physics</span><span class="p">.</span><span class="nx">ARCADE</span><span class="p">);</span>
<span class="nx">emitter</span><span class="p">.</span><span class="nx">gravity</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span>
<span class="nx">emitter</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span></code></pre></div>

<h3 id="contribute">Contribute!</h3>

<p>I’d like to keep revisiting this cheatsheet every once in a while so that it stays relevant.</p>

<p>I’m open to suggestions, improvements and corrections - either on <a href="https://github.com/OttoRobba/invrse/blob/gh-pages/_posts/2014-10-17-phaser-cheatsheet.md" target="_blank">gitHub</a> or in the comments below.</p>

<p>Also, please let me know what you think of it. :)</p>

</article>



<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'invrse'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="p2 wrap">
        <div class="measure mt1 center">
            <div class="float-left-footer">Versed by <a href="http://ottorobba.com">Otto Robba</a>
            </div>
            <div class="float-right-footer">
                <ul class="icons-footer">
                    <li class="icons-footer list-style-none">
                        <a href="https://github.com/OttoRobba"><i class='fa fa-github'></i></a>
                    </li>
                    <li class="icons-footer list-style-none">
                        <a href="https://twitter.com/invrse"><i class='fa fa-twitter'></i></a>
                    </li>
                    <li class="icons-footer list-style-none">
                        <a href=" /feed.xml "><i class='fa fa-rss '></i></a>
                    </li>
                </ul>

            </div>
        </div>
    </div>
</footer>


<script>
    (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function() {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-55865997-1', 'auto');
    ga('send', 'pageview');
</script>


</body>
</html>
